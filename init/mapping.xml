<!-- ======================================================================
                        Oppidum framework mapping
     ====================================================================== -->
<site startref="home" supported="login logout install" db="/db/www/oppidum" confbase="/db/www/oppidum" key="oppidum" mode="dev">
  <!-- <error mesh="standard"/> -->
  <item name="home">
    <model src="models/version.xql"/>
  </item>
  <!-- Oppidum administration module (backup / restore) -->
  <item name="admin" resource="none" method="POST">
    <access>
      <rule action="GET POST" role="u:admin" message="admin"/>
    </access>
    <model src="oppidum:modules/admin/restore.xql"/>
    <view src="oppidum:modules/admin/restore.xsl"/>
    <action name="POST">
      <model src="oppidum:modules/admin/restore.xql"/>
      <view src="oppidum:modules/admin/restore.xsl"/>
    </action>
  </item>
  <item name="scaffold" collection="monappli" resource="none">
    <model src="models/scaffold.xql"/>
    <view src="views/scaffold.xsl"/>
  </item>
  <collection name="test">
    <!-- <import module="test"/> -->
    <item name="generator" method="POST">
      <access>
        <rule action="POST" role="all"/>
      </access>
      <model src="oppidum:test/generator.xql"/>
      <action name="POST">
        <model src="oppidum:test/generator.xql"/>
      </action>
    </item>
    <item name="skin">
      <model src="oppidum:test/skin.xql"/>
    </item>
    <item name="inspect" supported="POST">
      <model src="oppidum:models/inspect.xql"/>
      <view/>
      <action name="POST">
        <model src="oppidum:models/inspect.xql"/>
      </action>
    </item>
  </collection>
</site>
